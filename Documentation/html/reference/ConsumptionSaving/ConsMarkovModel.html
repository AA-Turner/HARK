

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>ConsMarkovModel &mdash; HARK latest documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> HARK
          

          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">ConsMarkovModel</a></li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">HARK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>ConsMarkovModel</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/reference/ConsumptionSaving/ConsMarkovModel.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-HARK.ConsumptionSaving.ConsMarkovModel">
<span id="consmarkovmodel"></span><h1>ConsMarkovModel<a class="headerlink" href="#module-HARK.ConsumptionSaving.ConsMarkovModel" title="Permalink to this headline">¶</a></h1>
<p>Classes to solve and simulate consumption-savings model with a discrete, exogenous,
stochastic Markov state.  The only solver here extends ConsIndShockModel to
include a Markov state; the interest factor, permanent growth factor, and income
distribution can vary with the discrete state.</p>
<dl class="py class">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.ConsumptionSaving.ConsMarkovModel.</span></span><span class="sig-name descname"><span class="pre">ConsMarkovSolver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution_next</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">IncShkDstn_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LivPrb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DiscFac</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">CRRA</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Rfree_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">PermGroFac_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MrkvArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">BoroCnstArt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aXtraGrid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vFuncBool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">CubicBool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ConsIndShockModel.html#HARK.ConsumptionSaving.ConsIndShockModel.ConsIndShockSolver" title="HARK.ConsumptionSaving.ConsIndShockModel.ConsIndShockSolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.ConsumptionSaving.ConsIndShockModel.ConsIndShockSolver</span></code></a></p>
<p>A class to solve a single period consumption-saving problem with risky income
and stochastic transitions between discrete states, in a Markov fashion.
Extends ConsIndShockSolver, with identical inputs but for a discrete
Markov state, whose transition rule is summarized in MrkvArray.  Markov
states can differ in their interest factor, permanent growth factor, live probability, and
income distribution, so the inputs Rfree, PermGroFac, IncShkDstn, and LivPrb are
now arrays or lists specifying those values in each (succeeding) Markov state.</p>
<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.calc_EndOfPrdvP">
<span class="sig-name descname"><span class="pre">calc_EndOfPrdvP</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.calc_EndOfPrdvP" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates end of period marginal value (and marginal marginal) value
at each aXtra gridpoint for each current state, unconditional on the
future Markov state (i.e. weighting conditional end-of-period marginal
value by transition probabilities).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>none</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>none</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.calc_EndOfPrdvPP">
<span class="sig-name descname"><span class="pre">calc_EndOfPrdvPP</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.calc_EndOfPrdvPP" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates end-of-period marginal marginal value using a pre-defined
array of next period market resources in self.mNrmNext.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>none</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>EndOfPrdvPP</strong> – End-of-period marginal marginal value of assets at each value in
the grid of assets.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.calc_EndOfPrdvPcond">
<span class="sig-name descname"><span class="pre">calc_EndOfPrdvPcond</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.calc_EndOfPrdvPcond" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate end-of-period marginal value of assets at each point in aNrmNow
conditional on a particular state occuring in the next period.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>EndOfPrdvP</strong> – A 1D array of end-of-period marginal value of assets.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.calc_HumWealth_and_BoundingMPCs">
<span class="sig-name descname"><span class="pre">calc_HumWealth_and_BoundingMPCs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.calc_HumWealth_and_BoundingMPCs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates human wealth and the maximum and minimum MPC for each current
period state, then stores them as attributes of self for use by other methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>none</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>none</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.condition_on_state">
<span class="sig-name descname"><span class="pre">condition_on_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state_index</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.condition_on_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily assume that a particular Markov state will occur in the
succeeding period, and condition solver attributes on this assumption.
Allows the solver to construct the future-state-conditional marginal
value function (etc) for that future state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Index of the future Markov state to condition on.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>none</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.def_boundary">
<span class="sig-name descname"><span class="pre">def_boundary</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.def_boundary" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the borrowing constraint for each current state and save it as an
attribute of self for use by other methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>none</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>none</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.make_EndOfPrdvFuncCond">
<span class="sig-name descname"><span class="pre">make_EndOfPrdvFuncCond</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.make_EndOfPrdvFuncCond" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the end-of-period value function conditional on next period’s
state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>EndOfPrdvP</strong> (<em>np.array</em>) – Array of end-of-period marginal value of assets corresponding to the
asset values in self.aNrmNow.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>none</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.make_EndOfPrdvPfuncCond">
<span class="sig-name descname"><span class="pre">make_EndOfPrdvPfuncCond</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.make_EndOfPrdvPfuncCond" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the end-of-period marginal value function conditional on next
period’s state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>EndofPrdvPfunc_cond</strong> – The end-of-period marginal value function conditional on a particular
state occuring in the succeeding period.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../tools/interpolation.html#HARK.interpolation.MargValueFuncCRRA" title="HARK.interpolation.MargValueFuncCRRA">MargValueFuncCRRA</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.make_cubic_cFunc">
<span class="sig-name descname"><span class="pre">make_cubic_cFunc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mNrm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cNrm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.make_cubic_cFunc" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a cubic interpolation to represent the (unconstrained) consumption
function conditional on the current period state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mNrm</strong> (<em>np.array</em>) – Array of normalized market resource values for interpolation.</p></li>
<li><p><strong>cNrm</strong> (<em>np.array</em>) – Array of normalized consumption values for interpolation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>cFuncUnc</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>an instance of HARK.interpolation.CubicInterp</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.make_linear_cFunc">
<span class="sig-name descname"><span class="pre">make_linear_cFunc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mNrm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cNrm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.make_linear_cFunc" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a linear interpolation to represent the (unconstrained) consumption
function conditional on the current period state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mNrm</strong> (<em>np.array</em>) – Array of normalized market resource values for interpolation.</p></li>
<li><p><strong>cNrm</strong> (<em>np.array</em>) – Array of normalized consumption values for interpolation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>cFuncUnc</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>an instance of HARK.interpolation.LinearInterp</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.make_solution">
<span class="sig-name descname"><span class="pre">make_solution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cNrm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mNrm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.make_solution" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an object representing the solution to this period’s problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cNrm</strong> (<em>np.array</em>) – Array of normalized consumption values for interpolation.  Each row
corresponds to a Markov state for this period.</p></li>
<li><p><strong>mNrm</strong> (<em>np.array</em>) – Array of normalized market resource values for interpolation.  Each
row corresponds to a Markov state for this period.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>solution</strong> – The solution to the single period consumption-saving problem. Includes
a consumption function cFunc (using cubic or linear splines), a marg-
inal value function vPfunc, a minimum acceptable level of normalized
market resources mNrmMin, normalized human wealth hNrm, and bounding
MPCs MPCmin and MPCmax.  It might also have a value function vFunc
and marginal marginal value function vPPfunc.  All of these attributes
are lists or arrays, with elements corresponding to the current
Markov state.  E.g. solution.cFunc[0] is the consumption function
when in the i=0 Markov state this period.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="ConsIndShockModel.html#HARK.ConsumptionSaving.ConsIndShockModel.ConsumerSolution" title="HARK.ConsumptionSaving.ConsIndShockModel.ConsumerSolution">ConsumerSolution</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.make_vFunc">
<span class="sig-name descname"><span class="pre">make_vFunc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.make_vFunc" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the value function for each current state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>solution</strong> (<a class="reference internal" href="ConsIndShockModel.html#HARK.ConsumptionSaving.ConsIndShockModel.ConsumerSolution" title="HARK.ConsumptionSaving.ConsIndShockModel.ConsumerSolution"><em>ConsumerSolution</em></a>) – The solution to the single period consumption-saving problem. Must
have a consumption function cFunc (using cubic or linear splines) as
a list with elements corresponding to the current Markov state.  E.g.
solution.cFunc[0] is the consumption function when in the i=0 Markov
state this period.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>vFuncNow</strong> – A list of value functions (defined over normalized market resources
m) for each current period Markov state.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[<a class="reference internal" href="../tools/interpolation.html#HARK.interpolation.ValueFuncCRRA" title="HARK.interpolation.ValueFuncCRRA">ValueFuncCRRA</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.solve">
<span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.ConsMarkovSolver.solve" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve the one period problem of the consumption-saving model with a Markov state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>none</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>solution</strong> – The solution to the single period consumption-saving problem. Includes
a consumption function cFunc (using cubic or linear splines), a marg-
inal value function vPfunc, a minimum acceptable level of normalized
market resources mNrmMin, normalized human wealth hNrm, and bounding
MPCs MPCmin and MPCmax.  It might also have a value function vFunc
and marginal marginal value function vPPfunc.  All of these attributes
are lists or arrays, with elements corresponding to the current
Markov state.  E.g. solution.cFunc[0] is the consumption function
when in the i=0 Markov state this period.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="ConsIndShockModel.html#HARK.ConsumptionSaving.ConsIndShockModel.ConsumerSolution" title="HARK.ConsumptionSaving.ConsIndShockModel.ConsumerSolution">ConsumerSolution</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.ConsumptionSaving.ConsMarkovModel.</span></span><span class="sig-name descname"><span class="pre">MarkovConsumerType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ConsIndShockModel.html#HARK.ConsumptionSaving.ConsIndShockModel.IndShockConsumerType" title="HARK.ConsumptionSaving.ConsIndShockModel.IndShockConsumerType"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.ConsumptionSaving.ConsIndShockModel.IndShockConsumerType</span></code></a></p>
<p>An agent in the Markov consumption-saving model.  His problem is defined by a sequence
of income distributions, survival probabilities, discount factors, and permanent
income growth rates, as well as time invariant values for risk aversion, the
interest rate, the grid of end-of-period assets, and how he is borrowing constrained.</p>
<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.calc_bounding_values">
<span class="sig-name descname"><span class="pre">calc_bounding_values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.calc_bounding_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate human wealth plus minimum and maximum MPC in an infinite
horizon model with only one period repeated indefinitely.  Store results
as attributes of self.  Human wealth is the present discounted value of
expected future income after receiving income this period, ignoring mort-
ality.  The maximum MPC is the limit of the MPC as m –&gt; mNrmMin.  The
minimum MPC is the limit of the MPC as m –&gt; infty.  Results are all
np.array with elements corresponding to each Markov state.</p>
<p>NOT YET IMPLEMENTED FOR THIS CLASS</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.check_markov_inputs">
<span class="sig-name descname"><span class="pre">check_markov_inputs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.check_markov_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Many parameters used by MarkovConsumerType are arrays.  Make sure those arrays are the
right shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.get_Rfree">
<span class="sig-name descname"><span class="pre">get_Rfree</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.get_Rfree" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array of size self.AgentCount with interest factor that varies with discrete state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>RfreeNow</strong> – Array of size self.AgentCount with risk free interest rate for each agent.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.get_controls">
<span class="sig-name descname"><span class="pre">get_controls</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.get_controls" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates consumption for each consumer of this type using the consumption functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.get_markov_states">
<span class="sig-name descname"><span class="pre">get_markov_states</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.get_markov_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw new Markov states for each agent in the simulated population, using
the attribute MrkvArray to determine transition probabilities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.get_shocks">
<span class="sig-name descname"><span class="pre">get_shocks</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.get_shocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets new Markov states and permanent and transitory income shocks for this period.  Samples
from IncShkDstn for each period-state in the cycle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.initialize_sim">
<span class="sig-name descname"><span class="pre">initialize_sim</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.initialize_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares this AgentType for a new simulation.  Resets the internal random number generator,
makes initial states for all agents (using sim_birth), clears histories of tracked variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.make_euler_error_func">
<span class="sig-name descname"><span class="pre">make_euler_error_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mMax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">approx_inc_dstn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.make_euler_error_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a “normalized Euler error” function for this instance, mapping
from market resources to “consumption error per dollar of consumption.”
Stores result in attribute eulerErrorFunc as an interpolated function.
Has option to use approximate income distribution stored in self.IncShkDstn
or to use a (temporary) very dense approximation.</p>
<p>NOT YET IMPLEMENTED FOR THIS CLASS</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mMax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Maximum normalized market resources for the Euler error function.</p></li>
<li><p><strong>approx_inc_dstn</strong> (<em>Boolean</em>) – Indicator for whether to use the approximate discrete income distri-
bution stored in self.IncShkDstn[0], or to use a very accurate
discrete approximation instead.  When True, uses approximation in
IncShkDstn; when False, makes and uses a very dense approximation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)">None</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method is not used by any other code in the library. Rather, it is here
for expository and benchmarking purposes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.pre_solve">
<span class="sig-name descname"><span class="pre">pre_solve</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.pre_solve" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to make sure that the inputs that are specific to MarkovConsumerType
are of the right shape (if arrays) or length (if lists).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.read_shocks_from_history">
<span class="sig-name descname"><span class="pre">read_shocks_from_history</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.read_shocks_from_history" title="Permalink to this definition">¶</a></dt>
<dd><p>A slight modification of AgentType.read_shocks that makes sure that MrkvNow is int, not float.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.reset_rng">
<span class="sig-name descname"><span class="pre">reset_rng</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.reset_rng" title="Permalink to this definition">¶</a></dt>
<dd><p>Extended method that ensures random shocks are drawn from the same sequence
on each simulation, which is important for structural estimation.  This
method is called automatically by initialize_sim().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.shock_vars_">
<span class="sig-name descname"><span class="pre">shock_vars_</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['PermShk',</span> <span class="pre">'TranShk',</span> <span class="pre">'Mrkv']</span></em><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.shock_vars_" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.sim_birth">
<span class="sig-name descname"><span class="pre">sim_birth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">which_agents</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.sim_birth" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes new Markov consumer by drawing initial normalized assets, permanent income levels, and
discrete states. Calls IndShockConsumerType.sim_birth, then draws from initial Markov distribution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>which_agents</strong> (<em>np.array</em><em>(</em><em>Bool</em><em>)</em>) – Boolean array of size self.AgentCount indicating which agents should be “born”.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.sim_death">
<span class="sig-name descname"><span class="pre">sim_death</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.sim_death" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines which agents die this period and must be replaced.  Uses the sequence in LivPrb
to determine survival probabilities for each agent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>which_agents</strong> – Boolean array of size AgentCount indicating which agents die.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array(<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.state_vars">
<span class="sig-name descname"><span class="pre">state_vars</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['pLvl',</span> <span class="pre">'PlvlAgg',</span> <span class="pre">'bNrm',</span> <span class="pre">'mNrm',</span> <span class="pre">'aNrm',</span> <span class="pre">'aLvl',</span> <span class="pre">'Mrkv']</span></em><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.state_vars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.time_vary_">
<span class="sig-name descname"><span class="pre">time_vary_</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['LivPrb',</span> <span class="pre">'PermGroFac',</span> <span class="pre">'MrkvArray']</span></em><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.time_vary_" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.update_solution_terminal">
<span class="sig-name descname"><span class="pre">update_solution_terminal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.ConsumptionSaving.ConsMarkovModel.MarkovConsumerType.update_solution_terminal" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the terminal period solution.  This method should be run when a
new AgentType is created or when CRRA changes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>none</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>none</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Econ-ARK team.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>