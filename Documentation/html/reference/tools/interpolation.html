

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Interpolation &mdash; HARK latest documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> HARK
          

          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Interpolation</a></li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">HARK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Interpolation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/reference/tools/interpolation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-HARK.interpolation">
<span id="interpolation"></span><h1>Interpolation<a class="headerlink" href="#module-HARK.interpolation" title="Permalink to this headline">¶</a></h1>
<p>Custom interpolation methods for representing approximations to functions.
It also includes wrapper classes to enforce standard methods across classes.
Each interpolation class must have a distance() method that compares itself to
another instance; this is used in HARK.core’s solve() method to check for solution
convergence.  The interpolator classes currently in this module inherit their
distance method from MetricObject.</p>
<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.BilinearInterp">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">BilinearInterp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xSearchFunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ySearchFunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.BilinearInterp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#HARK.interpolation.HARKinterpolator2D" title="HARK.interpolation.HARKinterpolator2D"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.interpolation.HARKinterpolator2D</span></code></a></p>
<p>Bilinear full (or tensor) grid interpolation of a function f(x,y).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f_values</strong> (<em>numpy.array</em>) – An array of size (x_n,y_n) such that f_values[i,j] = f(x_list[i],y_list[j])</p></li>
<li><p><strong>x_list</strong> (<em>numpy.array</em>) – An array of x values, with length designated x_n.</p></li>
<li><p><strong>y_list</strong> (<em>numpy.array</em>) – An array of y values, with length designated y_n.</p></li>
<li><p><strong>xSearchFunc</strong> (<em>function</em>) – An optional function that returns the reference location for x values:
indices = xSearchFunc(x_list,x).  Default is np.searchsorted</p></li>
<li><p><strong>ySearchFunc</strong> (<em>function</em>) – An optional function that returns the reference location for y values:
indices = ySearchFunc(y_list,y).  Default is np.searchsorted</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.BilinearInterp.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['x_list',</span> <span class="pre">'y_list',</span> <span class="pre">'f_values']</span></em><a class="headerlink" href="#HARK.interpolation.BilinearInterp.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.BilinearInterpOnInterp1D">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">BilinearInterpOnInterp1D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xInterpolators</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.BilinearInterpOnInterp1D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#HARK.interpolation.HARKinterpolator3D" title="HARK.interpolation.HARKinterpolator3D"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.interpolation.HARKinterpolator3D</span></code></a></p>
<p>A 3D interpolator that bilinearly interpolates among a list of lists of 1D
interpolators.</p>
<p>Constructor for the class, generating an approximation to a function of
the form f(x,y,z) using interpolations over f(x,y_0,z_0) for a fixed grid
of y_0 and z_0 values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xInterpolators</strong> (<em>[</em><em>[</em><a class="reference internal" href="#HARK.interpolation.HARKinterpolator1D" title="HARK.interpolation.HARKinterpolator1D"><em>HARKinterpolator1D</em></a><em>]</em><em>]</em>) – A list of lists of 1D interpolations over the x variable.  The i,j-th
element of xInterpolators represents f(x,y_values[i],z_values[j]).</p></li>
<li><p><strong>y_values</strong> (<em>numpy.array</em>) – An array of y values equal in length to xInterpolators.</p></li>
<li><p><strong>z_values</strong> (<em>numpy.array</em>) – An array of z values equal in length to xInterpolators[0].</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.BilinearInterpOnInterp1D.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['xInterpolators',</span> <span class="pre">'y_list',</span> <span class="pre">'z_list']</span></em><a class="headerlink" href="#HARK.interpolation.BilinearInterpOnInterp1D.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.BilinearInterpOnInterp2D">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">BilinearInterpOnInterp2D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wxInterpolators</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.BilinearInterpOnInterp2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#HARK.interpolation.HARKinterpolator4D" title="HARK.interpolation.HARKinterpolator4D"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.interpolation.HARKinterpolator4D</span></code></a></p>
<p>A 4D interpolation method that bilinearly interpolates among “layers” of
arbitrary 2D interpolations.  Useful for models with two endogenous state
variables and two exogenous state variables when solving with the endogenous
grid method.  NOTE: should not be used if an exogenous 4D grid is used, will
be significantly slower than QuadlinearInterp.</p>
<p>Constructor for the class, generating an approximation to a function of
the form f(w,x,y,z) using interpolations over f(w,x,y_0,z_0) for a fixed
grid of y_0 and z_0 values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wxInterpolators</strong> (<em>[</em><em>[</em><a class="reference internal" href="#HARK.interpolation.HARKinterpolator2D" title="HARK.interpolation.HARKinterpolator2D"><em>HARKinterpolator2D</em></a><em>]</em><em>]</em>) – A list of lists of 2D interpolations over the w and x variables.
The i,j-th element of wxInterpolators represents
f(w,x,y_values[i],z_values[j]).</p></li>
<li><p><strong>y_values</strong> (<em>numpy.array</em>) – An array of y values equal in length to wxInterpolators.</p></li>
<li><p><strong>z_values</strong> (<em>numpy.array</em>) – An array of z values equal in length to wxInterpolators[0].</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.BilinearInterpOnInterp2D.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['wxInterpolators',</span> <span class="pre">'y_list',</span> <span class="pre">'z_list']</span></em><a class="headerlink" href="#HARK.interpolation.BilinearInterpOnInterp2D.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.ConstantFunction">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">ConstantFunction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.ConstantFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#HARK.core.MetricObject" title="HARK.core.MetricObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.core.MetricObject</span></code></a></p>
<p>A class for representing trivial functions that return the same real output for any input.  This
is convenient for models where an object might be a (non-trivial) function, but in some variations
that object is just a constant number.  Rather than needing to make a (Bi/Tri/Quad)-
LinearInterpolation with trivial state grids and the same f_value in every entry, ConstantFunction
allows the user to quickly make a constant/trivial function.  This comes up, e.g., in models
with endogenous pricing of insurance contracts; a contract’s premium might depend on some state
variables of the individual, but in some variations the premium of a contract is just a number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – The constant value that the function returns.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.ConstantFunction.convergence_criteria">
<span class="sig-name descname"><span class="pre">convergence_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['value']</span></em><a class="headerlink" href="#HARK.interpolation.ConstantFunction.convergence_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.ConstantFunction.derivative">
<span class="sig-name descname"><span class="pre">derivative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.ConstantFunction.derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the derivative of the function.  The first input must exist and should be an array.
Returns an array of identical shape to args[0] (if it exists).  This is an array of zeros.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.ConstantFunction.derivativeW">
<span class="sig-name descname"><span class="pre">derivativeW</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.ConstantFunction.derivativeW" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the derivative of the function.  The first input must exist and should be an array.
Returns an array of identical shape to args[0] (if it exists).  This is an array of zeros.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.ConstantFunction.derivativeX">
<span class="sig-name descname"><span class="pre">derivativeX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.ConstantFunction.derivativeX" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the derivative of the function.  The first input must exist and should be an array.
Returns an array of identical shape to args[0] (if it exists).  This is an array of zeros.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.ConstantFunction.derivativeXX">
<span class="sig-name descname"><span class="pre">derivativeXX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.ConstantFunction.derivativeXX" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the derivative of the function.  The first input must exist and should be an array.
Returns an array of identical shape to args[0] (if it exists).  This is an array of zeros.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.ConstantFunction.derivativeY">
<span class="sig-name descname"><span class="pre">derivativeY</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.ConstantFunction.derivativeY" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the derivative of the function.  The first input must exist and should be an array.
Returns an array of identical shape to args[0] (if it exists).  This is an array of zeros.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.ConstantFunction.derivativeZ">
<span class="sig-name descname"><span class="pre">derivativeZ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.ConstantFunction.derivativeZ" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the derivative of the function.  The first input must exist and should be an array.
Returns an array of identical shape to args[0] (if it exists).  This is an array of zeros.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.CubicHermiteInterp">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">CubicHermiteInterp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dydx_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intercept_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slope_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_extrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.CubicHermiteInterp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#HARK.interpolation.HARKinterpolator1D" title="HARK.interpolation.HARKinterpolator1D"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.interpolation.HARKinterpolator1D</span></code></a></p>
<p>An interpolating function using piecewise cubic splines.  Matches level and
slope of 1D function at gridpoints, smoothly interpolating in between.
Extrapolation above highest gridpoint approaches a limiting linear function
if desired (linear extrapolation also enabled.)</p>
<dl class="simple">
<dt>NOTE: When no input is given for the limiting linear function, linear</dt><dd><p>extrapolation is used above the highest gridpoint.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_list</strong> (<em>np.array</em>) – List of x values composing the grid.</p></li>
<li><p><strong>y_list</strong> (<em>np.array</em>) – List of y values, representing f(x) at the points in x_list.</p></li>
<li><p><strong>dydx_list</strong> (<em>np.array</em>) – List of dydx values, representing f’(x) at the points in x_list</p></li>
<li><p><strong>intercept_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Intercept of limiting linear function.</p></li>
<li><p><strong>slope_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Slope of limiting linear function.</p></li>
<li><p><strong>lower_extrap</strong> (<em>boolean</em>) – Indicator for whether lower extrapolation is allowed.  False means
f(x) = NaN for x &lt; min(x_list); True means linear extrapolation.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.CubicHermiteInterp.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['x_list',</span> <span class="pre">'y_list',</span> <span class="pre">'dydx_list']</span></em><a class="headerlink" href="#HARK.interpolation.CubicHermiteInterp.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.CubicHermiteInterp.out_of_bounds">
<span class="sig-name descname"><span class="pre">out_of_bounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.CubicHermiteInterp.out_of_bounds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.CubicInterp">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">CubicInterp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dydx_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intercept_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slope_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_extrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.CubicInterp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#HARK.interpolation.HARKinterpolator1D" title="HARK.interpolation.HARKinterpolator1D"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.interpolation.HARKinterpolator1D</span></code></a></p>
<p>An interpolating function using piecewise cubic splines.  Matches level and
slope of 1D function at gridpoints, smoothly interpolating in between.
Extrapolation above highest gridpoint approaches a limiting linear function
if desired (linear extrapolation also enabled.)</p>
<dl class="simple">
<dt>NOTE: When no input is given for the limiting linear function, linear</dt><dd><p>extrapolation is used above the highest gridpoint.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_list</strong> (<em>np.array</em>) – List of x values composing the grid.</p></li>
<li><p><strong>y_list</strong> (<em>np.array</em>) – List of y values, representing f(x) at the points in x_list.</p></li>
<li><p><strong>dydx_list</strong> (<em>np.array</em>) – List of dydx values, representing f’(x) at the points in x_list</p></li>
<li><p><strong>intercept_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Intercept of limiting linear function.</p></li>
<li><p><strong>slope_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Slope of limiting linear function.</p></li>
<li><p><strong>lower_extrap</strong> (<em>boolean</em>) – Indicator for whether lower extrapolation is allowed.  False means
f(x) = NaN for x &lt; min(x_list); True means linear extrapolation.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.CubicInterp.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['x_list',</span> <span class="pre">'y_list',</span> <span class="pre">'dydx_list']</span></em><a class="headerlink" href="#HARK.interpolation.CubicInterp.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.Curvilinear2DInterp">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">Curvilinear2DInterp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.Curvilinear2DInterp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#HARK.interpolation.HARKinterpolator2D" title="HARK.interpolation.HARKinterpolator2D"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.interpolation.HARKinterpolator2D</span></code></a></p>
<p>A 2D interpolation method for curvilinear or “warped grid” interpolation, as
in White (2015).  Used for models with two endogenous states that are solved
with the endogenous grid method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f_values</strong> (<em>numpy.array</em>) – A 2D array of function values such that f_values[i,j] =
f(x_values[i,j],y_values[i,j]).</p></li>
<li><p><strong>x_values</strong> (<em>numpy.array</em>) – A 2D array of x values of the same size as f_values.</p></li>
<li><p><strong>y_values</strong> (<em>numpy.array</em>) – A 2D array of y values of the same size as f_values.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.Curvilinear2DInterp.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['f_values',</span> <span class="pre">'x_values',</span> <span class="pre">'y_values']</span></em><a class="headerlink" href="#HARK.interpolation.Curvilinear2DInterp.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.Curvilinear2DInterp.find_coords">
<span class="sig-name descname"><span class="pre">find_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pos</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.Curvilinear2DInterp.find_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the relative coordinates (alpha,beta) for each point (x,y),
given the sectors (x_pos,y_pos) in which they reside.  Only called as
a subroutine of __call__().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em>) – Values whose sector should be found.</p></li>
<li><p><strong>y</strong> (<em>np.array</em>) – Values whose sector should be found.  Should be same size as x.</p></li>
<li><p><strong>x_pos</strong> (<em>np.array</em>) – Sector x-coordinates for each point in (x,y), of the same size.</p></li>
<li><p><strong>y_pos</strong> (<em>np.array</em>) – Sector y-coordinates for each point in (x,y), of the same size.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>alpha</strong> (<em>np.array</em>) – Relative “horizontal” position of the input in their respective sectors.</p></li>
<li><p><strong>beta</strong> (<em>np.array</em>) – Relative “vertical” position of the input in their respective sectors.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.Curvilinear2DInterp.find_sector">
<span class="sig-name descname"><span class="pre">find_sector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.Curvilinear2DInterp.find_sector" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the quadrilateral “sector” for each (x,y) point in the input.
Only called as a subroutine of _evaluate().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em>) – Values whose sector should be found.</p></li>
<li><p><strong>y</strong> (<em>np.array</em>) – Values whose sector should be found.  Should be same size as x.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>x_pos</strong> (<em>np.array</em>) – Sector x-coordinates for each point of the input, of the same size.</p></li>
<li><p><strong>y_pos</strong> (<em>np.array</em>) – Sector y-coordinates for each point of the input, of the same size.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.Curvilinear2DInterp.update_polarity">
<span class="sig-name descname"><span class="pre">update_polarity</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.Curvilinear2DInterp.update_polarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Fills in the polarity attribute of the interpolation, determining whether
the “plus” (True) or “minus” (False) solution of the system of equations
should be used for each sector.  Needs to be called in __init__.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>none</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>none</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.DiscreteInterp">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">DiscreteInterp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_interp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discrete_vals</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.DiscreteInterp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#HARK.core.MetricObject" title="HARK.core.MetricObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.core.MetricObject</span></code></a></p>
<p>An interpolator for variables that can only take a discrete set of values.</p>
<p>If the function we wish to interpolate, f(args) can take on the list of
values discrete_vals, this class expects an interpolator for the index of
f’s value in discrete_vals.
E.g., if f(a,b,c) = discrete_vals[5], then index_interp(a,b,c) = 5.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index_interp</strong> (<em>HARKInterpolator</em>) – An interpolator giving an approximation to the index of the value in
discrete_vals that corresponds to a given set of arguments.</p></li>
<li><p><strong>discrete_vals</strong> (<em>numpy.array</em>) – A 1D array containing the values in the range of the discrete function
to be interpolated.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.DiscreteInterp.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['index_interp']</span></em><a class="headerlink" href="#HARK.interpolation.DiscreteInterp.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator1D">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">HARKinterpolator1D</span></span><a class="headerlink" href="#HARK.interpolation.HARKinterpolator1D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#HARK.core.MetricObject" title="HARK.core.MetricObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.core.MetricObject</span></code></a></p>
<p>A wrapper class for 1D interpolation methods in HARK.</p>
<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator1D.derivative">
<span class="sig-name descname"><span class="pre">derivative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.HARKinterpolator1D.derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the derivative of the interpolated function at the given input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dydx</strong> – The interpolated function’s first derivative evaluated at x:
dydx = f’(x), with the same shape as x.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array or <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator1D.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">[]</span></em><a class="headerlink" href="#HARK.interpolation.HARKinterpolator1D.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator1D.eval_with_derivative">
<span class="sig-name descname"><span class="pre">eval_with_derivative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.HARKinterpolator1D.eval_with_derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the interpolated function and its derivative at the given input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>y</strong> (<em>np.array or float</em>) – The interpolated function evaluated at x: y = f(x), with the same
shape as x.</p></li>
<li><p><strong>dydx</strong> (<em>np.array or float</em>) – The interpolated function’s first derivative evaluated at x:
dydx = f’(x), with the same shape as x.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator2D">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">HARKinterpolator2D</span></span><a class="headerlink" href="#HARK.interpolation.HARKinterpolator2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#HARK.core.MetricObject" title="HARK.core.MetricObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.core.MetricObject</span></code></a></p>
<p>A wrapper class for 2D interpolation methods in HARK.</p>
<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator2D.derivativeX">
<span class="sig-name descname"><span class="pre">derivativeX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.HARKinterpolator2D.derivativeX" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the partial derivative of interpolated function with respect
to x (the first argument) at the given input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function.</p></li>
<li><p><strong>y</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as x.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dfdx</strong> – The derivative of the interpolated function with respect to x, eval-
uated at x,y: dfdx = f_x(x,y), with the same shape as x and y.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array or <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator2D.derivativeY">
<span class="sig-name descname"><span class="pre">derivativeY</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.HARKinterpolator2D.derivativeY" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the partial derivative of interpolated function with respect
to y (the second argument) at the given input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function.</p></li>
<li><p><strong>y</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as x.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dfdy</strong> – The derivative of the interpolated function with respect to y, eval-
uated at x,y: dfdx = f_y(x,y), with the same shape as x and y.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array or <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator2D.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">[]</span></em><a class="headerlink" href="#HARK.interpolation.HARKinterpolator2D.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator3D">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">HARKinterpolator3D</span></span><a class="headerlink" href="#HARK.interpolation.HARKinterpolator3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#HARK.core.MetricObject" title="HARK.core.MetricObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.core.MetricObject</span></code></a></p>
<p>A wrapper class for 3D interpolation methods in HARK.</p>
<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator3D.derivativeX">
<span class="sig-name descname"><span class="pre">derivativeX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.HARKinterpolator3D.derivativeX" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the partial derivative of the interpolated function with respect
to x (the first argument) at the given input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function.</p></li>
<li><p><strong>y</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as x.</p></li>
<li><p><strong>z</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as x.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dfdx</strong> – The derivative with respect to x of the interpolated function evaluated
at x,y,z: dfdx = f_x(x,y,z), with the same shape as x, y, and z.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array or <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator3D.derivativeY">
<span class="sig-name descname"><span class="pre">derivativeY</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.HARKinterpolator3D.derivativeY" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the partial derivative of the interpolated function with respect
to y (the second argument) at the given input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function.</p></li>
<li><p><strong>y</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as x.</p></li>
<li><p><strong>z</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as x.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dfdy</strong> – The derivative with respect to y of the interpolated function evaluated
at x,y,z: dfdy = f_y(x,y,z), with the same shape as x, y, and z.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array or <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator3D.derivativeZ">
<span class="sig-name descname"><span class="pre">derivativeZ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.HARKinterpolator3D.derivativeZ" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the partial derivative of the interpolated function with respect
to z (the third argument) at the given input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function.</p></li>
<li><p><strong>y</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as x.</p></li>
<li><p><strong>z</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as x.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dfdz</strong> – The derivative with respect to z of the interpolated function evaluated
at x,y,z: dfdz = f_z(x,y,z), with the same shape as x, y, and z.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array or <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator3D.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">[]</span></em><a class="headerlink" href="#HARK.interpolation.HARKinterpolator3D.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator4D">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">HARKinterpolator4D</span></span><a class="headerlink" href="#HARK.interpolation.HARKinterpolator4D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#HARK.core.MetricObject" title="HARK.core.MetricObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.core.MetricObject</span></code></a></p>
<p>A wrapper class for 4D interpolation methods in HARK.</p>
<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator4D.derivativeW">
<span class="sig-name descname"><span class="pre">derivativeW</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.HARKinterpolator4D.derivativeW" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the partial derivative with respect to w (the first argument)
of the interpolated function at the given input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>w</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function.</p></li>
<li><p><strong>x</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as w.</p></li>
<li><p><strong>y</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as w.</p></li>
<li><p><strong>z</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as w.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dfdw</strong> – The derivative with respect to w of the interpolated function eval-
uated at w,x,y,z: dfdw = f_w(w,x,y,z), with the same shape as inputs.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array or <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator4D.derivativeX">
<span class="sig-name descname"><span class="pre">derivativeX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.HARKinterpolator4D.derivativeX" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the partial derivative with respect to x (the second argument)
of the interpolated function at the given input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>w</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function.</p></li>
<li><p><strong>x</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as w.</p></li>
<li><p><strong>y</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as w.</p></li>
<li><p><strong>z</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as w.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dfdx</strong> – The derivative with respect to x of the interpolated function eval-
uated at w,x,y,z: dfdx = f_x(w,x,y,z), with the same shape as inputs.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array or <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator4D.derivativeY">
<span class="sig-name descname"><span class="pre">derivativeY</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.HARKinterpolator4D.derivativeY" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the partial derivative with respect to y (the third argument)
of the interpolated function at the given input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>w</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function.</p></li>
<li><p><strong>x</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as w.</p></li>
<li><p><strong>y</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as w.</p></li>
<li><p><strong>z</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as w.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dfdy</strong> – The derivative with respect to y of the interpolated function eval-
uated at w,x,y,z: dfdy = f_y(w,x,y,z), with the same shape as inputs.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array or <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator4D.derivativeZ">
<span class="sig-name descname"><span class="pre">derivativeZ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.HARKinterpolator4D.derivativeZ" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the partial derivative with respect to z (the fourth argument)
of the interpolated function at the given input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>w</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function.</p></li>
<li><p><strong>x</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as w.</p></li>
<li><p><strong>y</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as w.</p></li>
<li><p><strong>z</strong> (<em>np.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Real values to be evaluated in the interpolated function; must be
the same size as w.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dfdz</strong> – The derivative with respect to z of the interpolated function eval-
uated at w,x,y,z: dfdz = f_z(w,x,y,z), with the same shape as inputs.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array or <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.HARKinterpolator4D.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">[]</span></em><a class="headerlink" href="#HARK.interpolation.HARKinterpolator4D.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.IdentityFunction">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">IdentityFunction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i_dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.IdentityFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#HARK.core.MetricObject" title="HARK.core.MetricObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.core.MetricObject</span></code></a></p>
<p>A fairly trivial interpolator that simply returns one of its arguments.  Useful for avoiding
numeric error in extreme cases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i_dim</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Index of the dimension on which the identity is defined.  f(<a href="#id1"><span class="problematic" id="id2">*</span></a>x) = x[i]</p></li>
<li><p><strong>n_dims</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Total number of input dimensions for this function.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.IdentityFunction.derivative">
<span class="sig-name descname"><span class="pre">derivative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.IdentityFunction.derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the derivative of the function with respect to the first dimension.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.IdentityFunction.derivativeW">
<span class="sig-name descname"><span class="pre">derivativeW</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.IdentityFunction.derivativeW" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the derivative of the function with respect to the W dimension.
This should only exist when n_dims &gt;= 4.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.IdentityFunction.derivativeX">
<span class="sig-name descname"><span class="pre">derivativeX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.IdentityFunction.derivativeX" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the derivative of the function with respect to the X dimension.
This is the first input whenever n_dims &lt; 4 and the second input otherwise.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.IdentityFunction.derivativeY">
<span class="sig-name descname"><span class="pre">derivativeY</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.IdentityFunction.derivativeY" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the derivative of the function with respect to the Y dimension.
This is the second input whenever n_dims &lt; 4 and the third input otherwise.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.IdentityFunction.derivativeZ">
<span class="sig-name descname"><span class="pre">derivativeZ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.IdentityFunction.derivativeZ" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the derivative of the function with respect to the Z dimension.
This is the third input whenever n_dims &lt; 4 and the fourth input otherwise.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.IdentityFunction.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['i_dim']</span></em><a class="headerlink" href="#HARK.interpolation.IdentityFunction.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.LinearInterp">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">LinearInterp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intercept_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slope_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_extrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.LinearInterp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#HARK.interpolation.HARKinterpolator1D" title="HARK.interpolation.HARKinterpolator1D"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.interpolation.HARKinterpolator1D</span></code></a></p>
<p>A “from scratch” 1D linear interpolation class.  Allows for linear or decay
extrapolation (approaching a limiting linear function from below).</p>
<p>NOTE: When no input is given for the limiting linear function, linear
extrapolation is used above the highest gridpoint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_list</strong> (<em>np.array</em>) – List of x values composing the grid.</p></li>
<li><p><strong>y_list</strong> (<em>np.array</em>) – List of y values, representing f(x) at the points in x_list.</p></li>
<li><p><strong>intercept_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Intercept of limiting linear function.</p></li>
<li><p><strong>slope_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Slope of limiting linear function.</p></li>
<li><p><strong>lower_extrap</strong> (<em>boolean</em>) – Indicator for whether lower extrapolation is allowed.  False means
f(x) = NaN for x &lt; min(x_list); True means linear extrapolation.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.LinearInterp.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['x_list',</span> <span class="pre">'y_list']</span></em><a class="headerlink" href="#HARK.interpolation.LinearInterp.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.LinearInterpOnInterp1D">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">LinearInterpOnInterp1D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xInterpolators</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.LinearInterpOnInterp1D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#HARK.interpolation.HARKinterpolator2D" title="HARK.interpolation.HARKinterpolator2D"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.interpolation.HARKinterpolator2D</span></code></a></p>
<p>A 2D interpolator that linearly interpolates among a list of 1D interpolators.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xInterpolators</strong> (<em>[</em><a class="reference internal" href="#HARK.interpolation.HARKinterpolator1D" title="HARK.interpolation.HARKinterpolator1D"><em>HARKinterpolator1D</em></a><em>]</em>) – A list of 1D interpolations over the x variable.  The nth element of
xInterpolators represents f(x,y_values[n]).</p></li>
<li><p><strong>y_values</strong> (<em>numpy.array</em>) – An array of y values equal in length to xInterpolators.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.LinearInterpOnInterp1D.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['xInterpolators',</span> <span class="pre">'y_list']</span></em><a class="headerlink" href="#HARK.interpolation.LinearInterpOnInterp1D.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.LinearInterpOnInterp2D">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">LinearInterpOnInterp2D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyInterpolators</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.LinearInterpOnInterp2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#HARK.interpolation.HARKinterpolator3D" title="HARK.interpolation.HARKinterpolator3D"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.interpolation.HARKinterpolator3D</span></code></a></p>
<p>A 3D interpolation method that linearly interpolates between “layers” of
arbitrary 2D interpolations.  Useful for models with two endogenous state
variables and one exogenous state variable when solving with the endogenous
grid method.  NOTE: should not be used if an exogenous 3D grid is used, will
be significantly slower than TrilinearInterp.</p>
<p>Constructor for the class, generating an approximation to a function of
the form f(x,y,z) using interpolations over f(x,y,z_0) for a fixed grid
of z_0 values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xyInterpolators</strong> (<em>[</em><a class="reference internal" href="#HARK.interpolation.HARKinterpolator2D" title="HARK.interpolation.HARKinterpolator2D"><em>HARKinterpolator2D</em></a><em>]</em>) – A list of 2D interpolations over the x and y variables.  The nth
element of xyInterpolators represents f(x,y,z_values[n]).</p></li>
<li><p><strong>z_values</strong> (<em>numpy.array</em>) – An array of z values equal in length to xyInterpolators.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.LinearInterpOnInterp2D.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['xyInterpolators',</span> <span class="pre">'z_list']</span></em><a class="headerlink" href="#HARK.interpolation.LinearInterpOnInterp2D.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.LowerEnvelope">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">LowerEnvelope</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">functions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nan_bool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.LowerEnvelope" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#HARK.interpolation.HARKinterpolator1D" title="HARK.interpolation.HARKinterpolator1D"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.interpolation.HARKinterpolator1D</span></code></a></p>
<p>The lower envelope of a finite set of 1D functions, each of which can be of
any class that has the methods __call__, derivative, and eval_with_derivative.
Generally: it combines HARKinterpolator1Ds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*functions</strong> (<em>function</em>) – Any number of real functions; often instances of HARKinterpolator1D</p></li>
<li><p><strong>nan_bool</strong> (<em>boolean</em>) – An indicator for whether the solver should exclude NA’s when
forming the lower envelope</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.LowerEnvelope.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['functions']</span></em><a class="headerlink" href="#HARK.interpolation.LowerEnvelope.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.LowerEnvelope2D">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">LowerEnvelope2D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">functions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nan_bool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.LowerEnvelope2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#HARK.interpolation.HARKinterpolator2D" title="HARK.interpolation.HARKinterpolator2D"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.interpolation.HARKinterpolator2D</span></code></a></p>
<p>The lower envelope of a finite set of 2D functions, each of which can be of
any class that has the methods __call__, derivativeX, and derivativeY.
Generally: it combines HARKinterpolator2Ds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*functions</strong> (<em>function</em>) – Any number of real functions; often instances of HARKinterpolator2D</p></li>
<li><p><strong>nan_bool</strong> (<em>boolean</em>) – An indicator for whether the solver should exclude NA’s when forming
the lower envelope.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.LowerEnvelope2D.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['functions']</span></em><a class="headerlink" href="#HARK.interpolation.LowerEnvelope2D.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.LowerEnvelope3D">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">LowerEnvelope3D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">functions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nan_bool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.LowerEnvelope3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#HARK.interpolation.HARKinterpolator3D" title="HARK.interpolation.HARKinterpolator3D"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.interpolation.HARKinterpolator3D</span></code></a></p>
<p>The lower envelope of a finite set of 3D functions, each of which can be of
any class that has the methods __call__, derivativeX, derivativeY, and
derivativeZ. Generally: it combines HARKinterpolator2Ds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*functions</strong> (<em>function</em>) – Any number of real functions; often instances of HARKinterpolator3D</p></li>
<li><p><strong>nan_bool</strong> (<em>boolean</em>) – An indicator for whether the solver should exclude NA’s when forming
the lower envelope.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.LowerEnvelope3D.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['functions']</span></em><a class="headerlink" href="#HARK.interpolation.LowerEnvelope3D.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.MargMargValueFuncCRRA">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">MargMargValueFuncCRRA</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cFunc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">CRRA</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.MargMargValueFuncCRRA" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#HARK.core.MetricObject" title="HARK.core.MetricObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.core.MetricObject</span></code></a></p>
<p>A class for representing a marginal marginal value function in models where
the standard envelope condition of dvdm = u’(c(state)) holds (with CRRA utility).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cFunc</strong> (<em>function.</em>) – Its first argument must be normalized market resources m.
A real function representing the marginal value function composed
with the inverse marginal utility function, defined on the state
variables: uP_inv(dvdmFunc(state)).  Called cFunc because when standard
envelope condition applies, uP_inv(dvdm(state)) = cFunc(state).</p></li>
<li><p><strong>CRRA</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Coefficient of relative risk aversion.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.MargMargValueFuncCRRA.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['cFunc',</span> <span class="pre">'CRRA']</span></em><a class="headerlink" href="#HARK.interpolation.MargMargValueFuncCRRA.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.MargValueFuncCRRA">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">MargValueFuncCRRA</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cFunc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">CRRA</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.MargValueFuncCRRA" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#HARK.core.MetricObject" title="HARK.core.MetricObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.core.MetricObject</span></code></a></p>
<p>A class for representing a marginal value function in models where the
standard envelope condition of dvdm(state) = u’(c(state)) holds (with CRRA utility).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cFunc</strong> (<em>function.</em>) – Its first argument must be normalized market resources m.
A real function representing the marginal value function composed
with the inverse marginal utility function, defined on the state
variables: uP_inv(dvdmFunc(state)).  Called cFunc because when standard
envelope condition applies, uP_inv(dvdm(state)) = cFunc(state).</p></li>
<li><p><strong>CRRA</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Coefficient of relative risk aversion.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.MargValueFuncCRRA.derivativeX">
<span class="sig-name descname"><span class="pre">derivativeX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">cFuncArgs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.MargValueFuncCRRA.derivativeX" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the derivative of the marginal value function with respect to
market resources at given state; this is the marginal marginal value
function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cFuncArgs</strong> (<em>floats</em><em> or </em><em>np.arrays</em>) – State variables.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>vPP</strong> – Marginal marginal lifetime value of beginning this period with
state cFuncArgs; has same size as inputs.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a> or np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.MargValueFuncCRRA.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['cFunc',</span> <span class="pre">'CRRA']</span></em><a class="headerlink" href="#HARK.interpolation.MargValueFuncCRRA.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.QuadlinearInterp">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">QuadlinearInterp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wSearchFunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xSearchFunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ySearchFunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zSearchFunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.QuadlinearInterp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#HARK.interpolation.HARKinterpolator4D" title="HARK.interpolation.HARKinterpolator4D"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.interpolation.HARKinterpolator4D</span></code></a></p>
<p>Quadlinear full (or tensor) grid interpolation of a function f(w,x,y,z).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f_values</strong> (<em>numpy.array</em>) – An array of size (w_n,x_n,y_n,z_n) such that f_values[i,j,k,l] =
f(w_list[i],x_list[j],y_list[k],z_list[l])</p></li>
<li><p><strong>w_list</strong> (<em>numpy.array</em>) – An array of x values, with length designated w_n.</p></li>
<li><p><strong>x_list</strong> (<em>numpy.array</em>) – An array of x values, with length designated x_n.</p></li>
<li><p><strong>y_list</strong> (<em>numpy.array</em>) – An array of y values, with length designated y_n.</p></li>
<li><p><strong>z_list</strong> (<em>numpy.array</em>) – An array of z values, with length designated z_n.</p></li>
<li><p><strong>wSearchFunc</strong> (<em>function</em>) – An optional function that returns the reference location for w values:
indices = wSearchFunc(w_list,w).  Default is np.searchsorted</p></li>
<li><p><strong>xSearchFunc</strong> (<em>function</em>) – An optional function that returns the reference location for x values:
indices = xSearchFunc(x_list,x).  Default is np.searchsorted</p></li>
<li><p><strong>ySearchFunc</strong> (<em>function</em>) – An optional function that returns the reference location for y values:
indices = ySearchFunc(y_list,y).  Default is np.searchsorted</p></li>
<li><p><strong>zSearchFunc</strong> (<em>function</em>) – An optional function that returns the reference location for z values:
indices = zSearchFunc(z_list,z).  Default is np.searchsorted</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.QuadlinearInterp.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['f_values',</span> <span class="pre">'w_list',</span> <span class="pre">'x_list',</span> <span class="pre">'y_list',</span> <span class="pre">'z_list']</span></em><a class="headerlink" href="#HARK.interpolation.QuadlinearInterp.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.TrilinearInterp">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">TrilinearInterp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xSearchFunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ySearchFunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zSearchFunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.TrilinearInterp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#HARK.interpolation.HARKinterpolator3D" title="HARK.interpolation.HARKinterpolator3D"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.interpolation.HARKinterpolator3D</span></code></a></p>
<p>Trilinear full (or tensor) grid interpolation of a function f(x,y,z).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f_values</strong> (<em>numpy.array</em>) – An array of size (x_n,y_n,z_n) such that f_values[i,j,k] =
f(x_list[i],y_list[j],z_list[k])</p></li>
<li><p><strong>x_list</strong> (<em>numpy.array</em>) – An array of x values, with length designated x_n.</p></li>
<li><p><strong>y_list</strong> (<em>numpy.array</em>) – An array of y values, with length designated y_n.</p></li>
<li><p><strong>z_list</strong> (<em>numpy.array</em>) – An array of z values, with length designated z_n.</p></li>
<li><p><strong>xSearchFunc</strong> (<em>function</em>) – An optional function that returns the reference location for x values:
indices = xSearchFunc(x_list,x).  Default is np.searchsorted</p></li>
<li><p><strong>ySearchFunc</strong> (<em>function</em>) – An optional function that returns the reference location for y values:
indices = ySearchFunc(y_list,y).  Default is np.searchsorted</p></li>
<li><p><strong>zSearchFunc</strong> (<em>function</em>) – An optional function that returns the reference location for z values:
indices = zSearchFunc(z_list,z).  Default is np.searchsorted</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.TrilinearInterp.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['f_values',</span> <span class="pre">'x_list',</span> <span class="pre">'y_list',</span> <span class="pre">'z_list']</span></em><a class="headerlink" href="#HARK.interpolation.TrilinearInterp.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.TrilinearInterpOnInterp1D">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">TrilinearInterpOnInterp1D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wInterpolators</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.TrilinearInterpOnInterp1D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#HARK.interpolation.HARKinterpolator4D" title="HARK.interpolation.HARKinterpolator4D"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.interpolation.HARKinterpolator4D</span></code></a></p>
<p>A 4D interpolator that trilinearly interpolates among a list of lists of 1D interpolators.</p>
<p>Constructor for the class, generating an approximation to a function of
the form f(w,x,y,z) using interpolations over f(w,x_0,y_0,z_0) for a fixed
grid of y_0 and z_0 values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wInterpolators</strong> (<em>[</em><em>[</em><em>[</em><a class="reference internal" href="#HARK.interpolation.HARKinterpolator1D" title="HARK.interpolation.HARKinterpolator1D"><em>HARKinterpolator1D</em></a><em>]</em><em>]</em><em>]</em>) – A list of lists of lists of 1D interpolations over the x variable.
The i,j,k-th element of wInterpolators represents f(w,x_values[i],y_values[j],z_values[k]).</p></li>
<li><p><strong>x_values</strong> (<em>numpy.array</em>) – An array of x values equal in length to wInterpolators.</p></li>
<li><p><strong>y_values</strong> (<em>numpy.array</em>) – An array of y values equal in length to wInterpolators[0].</p></li>
<li><p><strong>z_values</strong> (<em>numpy.array</em>) – An array of z values equal in length to wInterpolators[0][0]</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.TrilinearInterpOnInterp1D.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['wInterpolators',</span> <span class="pre">'x_list',</span> <span class="pre">'y_list',</span> <span class="pre">'z_list']</span></em><a class="headerlink" href="#HARK.interpolation.TrilinearInterpOnInterp1D.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.UpperEnvelope">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">UpperEnvelope</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">functions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nan_bool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.UpperEnvelope" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#HARK.interpolation.HARKinterpolator1D" title="HARK.interpolation.HARKinterpolator1D"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.interpolation.HARKinterpolator1D</span></code></a></p>
<p>The upper envelope of a finite set of 1D functions, each of which can be of
any class that has the methods __call__, derivative, and eval_with_derivative.
Generally: it combines HARKinterpolator1Ds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*functions</strong> (<em>function</em>) – Any number of real functions; often instances of HARKinterpolator1D</p></li>
<li><p><strong>nan_bool</strong> (<em>boolean</em>) – An indicator for whether the solver should exclude NA’s when forming
the lower envelope.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.UpperEnvelope.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['functions']</span></em><a class="headerlink" href="#HARK.interpolation.UpperEnvelope.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.ValueFuncCRRA">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">ValueFuncCRRA</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vFuncNvrs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">CRRA</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.ValueFuncCRRA" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#HARK.core.MetricObject" title="HARK.core.MetricObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.core.MetricObject</span></code></a></p>
<p>A class for representing a value function.  The underlying interpolation is
in the space of (state,u_inv(v)); this class “re-curves” to the value function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vFuncNvrs</strong> (<em>function</em>) – A real function representing the value function composed with the
inverse utility function, defined on the state: u_inv(vFunc(state))</p></li>
<li><p><strong>CRRA</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Coefficient of relative risk aversion.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.ValueFuncCRRA.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['func',</span> <span class="pre">'CRRA']</span></em><a class="headerlink" href="#HARK.interpolation.ValueFuncCRRA.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.VariableLowerBoundFunc2D">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">VariableLowerBoundFunc2D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lowerBound</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.VariableLowerBoundFunc2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#HARK.core.MetricObject" title="HARK.core.MetricObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.core.MetricObject</span></code></a></p>
<p>A class for representing a function with two real inputs whose lower bound
in the first input depends on the second input.  Useful for managing curved
natural borrowing constraints, as occurs in the persistent shocks model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>function</em>) – A function f: (R_+ x R) –&gt; R representing the function of interest
shifted by its lower bound in the first input.</p></li>
<li><p><strong>lowerBound</strong> (<em>function</em>) – The lower bound in the first input of the function of interest, as
a function of the second input.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.VariableLowerBoundFunc2D.derivativeX">
<span class="sig-name descname"><span class="pre">derivativeX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.VariableLowerBoundFunc2D.derivativeX" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the first derivative with respect to x of the function at given
state space points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em>) – First input values.</p></li>
<li><p><strong>y</strong> (<em>np.array</em>) – Second input values; should be of same shape as x.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dfdx_out</strong> – First derivative of function with respect to the first input,
evaluated at (x,y), of same shape as inputs.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.VariableLowerBoundFunc2D.derivativeY">
<span class="sig-name descname"><span class="pre">derivativeY</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.VariableLowerBoundFunc2D.derivativeY" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the first derivative with respect to y of the function at given
state space points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em>) – First input values.</p></li>
<li><p><strong>y</strong> (<em>np.array</em>) – Second input values; should be of same shape as x.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dfdy_out</strong> – First derivative of function with respect to the second input,
evaluated at (x,y), of same shape as inputs.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.VariableLowerBoundFunc2D.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['func',</span> <span class="pre">'lowerBound']</span></em><a class="headerlink" href="#HARK.interpolation.VariableLowerBoundFunc2D.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="HARK.interpolation.VariableLowerBoundFunc3D">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">VariableLowerBoundFunc3D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lowerBound</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.VariableLowerBoundFunc3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#HARK.core.MetricObject" title="HARK.core.MetricObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">HARK.core.MetricObject</span></code></a></p>
<p>A class for representing a function with three real inputs whose lower bound
in the first input depends on the second input.  Useful for managing curved
natural borrowing constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>function</em>) – A function f: (R_+ x R^2) –&gt; R representing the function of interest
shifted by its lower bound in the first input.</p></li>
<li><p><strong>lowerBound</strong> (<em>function</em>) – The lower bound in the first input of the function of interest, as
a function of the second input.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.VariableLowerBoundFunc3D.derivativeX">
<span class="sig-name descname"><span class="pre">derivativeX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.VariableLowerBoundFunc3D.derivativeX" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the first derivative with respect to x of the function at given
state space points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em>) – First input values.</p></li>
<li><p><strong>y</strong> (<em>np.array</em>) – Second input values; should be of same shape as x.</p></li>
<li><p><strong>z</strong> (<em>np.array</em>) – Third input values; should be of same shape as x.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dfdx_out</strong> – First derivative of function with respect to the first input,
evaluated at (x,y,z), of same shape as inputs.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.VariableLowerBoundFunc3D.derivativeY">
<span class="sig-name descname"><span class="pre">derivativeY</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.VariableLowerBoundFunc3D.derivativeY" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the first derivative with respect to y of the function at given
state space points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em>) – First input values.</p></li>
<li><p><strong>y</strong> (<em>np.array</em>) – Second input values; should be of same shape as x.</p></li>
<li><p><strong>z</strong> (<em>np.array</em>) – Third input values; should be of same shape as x.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dfdy_out</strong> – First derivative of function with respect to the second input,
evaluated at (x,y,z), of same shape as inputs.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HARK.interpolation.VariableLowerBoundFunc3D.derivativeZ">
<span class="sig-name descname"><span class="pre">derivativeZ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.VariableLowerBoundFunc3D.derivativeZ" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the first derivative with respect to z of the function at given
state space points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em>) – First input values.</p></li>
<li><p><strong>y</strong> (<em>np.array</em>) – Second input values; should be of same shape as x.</p></li>
<li><p><strong>z</strong> (<em>np.array</em>) – Third input values; should be of same shape as x.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dfdz_out</strong> – First derivative of function with respect to the third input,
evaluated at (x,y,z), of same shape as inputs.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="HARK.interpolation.VariableLowerBoundFunc3D.distance_criteria">
<span class="sig-name descname"><span class="pre">distance_criteria</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['func',</span> <span class="pre">'lowerBound']</span></em><a class="headerlink" href="#HARK.interpolation.VariableLowerBoundFunc3D.distance_criteria" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="HARK.interpolation.calc_choice_probs">
<span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">calc_choice_probs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Vals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.calc_choice_probs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the choice probabilities given the choice specific value functions
<cite>Vals</cite>. Probabilities are degenerate if sigma == 0.0.
:param Vals: A numpy.array that holds choice specific values at common grid points.
:type Vals: [numpy.array]
:param sigma: A number that controls the variance of the taste shocks
:type sigma: float</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>Probs</strong> – A numpy.array that holds the discrete choice probabilities</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[numpy.array]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="HARK.interpolation.calc_log_sum">
<span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">calc_log_sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Vals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.calc_log_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the optimal value given the choice specific value functions Vals.
:param Vals: A numpy.array that holds choice specific values at common grid points.
:type Vals: [numpy.array]
:param sigma: A number that controls the variance of the taste shocks
:type sigma: float</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>V</strong> – A numpy.array that holds the integrated value function.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[numpy.array]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="HARK.interpolation.calc_log_sum_choice_probs">
<span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">calc_log_sum_choice_probs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Vals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.calc_log_sum_choice_probs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the final optimal value and choice probabilities given the choice
specific value functions <cite>Vals</cite>. Probabilities are degenerate if sigma == 0.0.
:param Vals: A numpy.array that holds choice specific values at common grid points.
:type Vals: [numpy.array]
:param sigma: A number that controls the variance of the taste shocks
:type sigma: float</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>V</strong> (<em>[numpy.array]</em>) – A numpy.array that holds the integrated value function.</p></li>
<li><p><strong>P</strong> (<em>[numpy.array]</em>) – A numpy.array that holds the discrete choice probabilities</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="HARK.interpolation.main">
<span class="sig-prename descclassname"><span class="pre">HARK.interpolation.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HARK.interpolation.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Econ-ARK team.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>